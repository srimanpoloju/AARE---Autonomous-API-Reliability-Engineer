global:
  scrape_interval: 15s # By default, scrape targets every 15 seconds.

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'grafana'
    static_configs:
      - targets: ['grafana:3000']

  - job_name: 'rabbitmq'
    static_configs:
      - targets: ['rabbitmq:15672']
    metrics_path: /api/vhosts/%2F/overview # RabbitMQ management plugin metrics

  - job_name: 'gateway'
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['gateway:8080']

  - job_name: 'target-api'
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['target-api:8080']

  - job_name: 'collector'
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['collector:8082']

  - job_name: 'analyzer'
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['analyzer:3001']

  - job_name: 'incident-api'
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['incident-api:8080']

  - job_name: 'ui' # Next.js does not have /actuator/prometheus but could expose custom metrics
    # If the UI were to expose Node.js metrics, they would be configured here.
    # For now, it's a placeholder or can be removed if not exposing metrics.
    static_configs:
      - targets: ['ui:3000']
    metrics_path: /_next/static/metrics # Placeholder, adjust if UI exposes metrics
